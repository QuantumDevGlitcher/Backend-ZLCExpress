@echo off
echo ğŸ”„ Reiniciando backend completamente...

echo ğŸ“ Deteniendo todos los procesos Node.js...
taskkill /F /IM node.exe 2>nul

echo ğŸ› ï¸  Compilando TypeScript...
npm run build

echo ğŸš€ Iniciando servidor desde JavaScript compilado...
start cmd /k "node dist/app.js"

echo â±ï¸  Esperando 5 segundos para que el servidor inicie...
timeout /t 5 /nobreak

echo ğŸ§ª Probando API...
node test-api-products-names.js

echo âœ… Script completado. Presiona cualquier tecla para continuar...
pause
